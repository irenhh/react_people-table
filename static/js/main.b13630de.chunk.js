(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),c=a(3),u=a(2),i=a(1),s=a(4),p=a(5),m=a(7),d=a(6),h=a(8);var f=function(e){var t=e.person,a=e.markRow;return r.a.createElement("tr",{className:"\n        person \n        ".concat("f"===t.sex?"person--female":"person--male","\n        ").concat("f"===t.sex&&t.children.length>0?"person--mother":"m"===t.sex&&t.children.length>0?"person--father":null,"\n\n        person--lived-in-").concat(t.century,"\n        ").concat(t.marked&&"marked-row","\n      "),style:"f"===t.sex?{background:"lightpink"}:null,onClick:function(){return a(t.id)}},r.a.createElement("td",null,t.id),r.a.createElement("td",{style:t.born<1650?{textDecoration:"line-through"}:t.died>1800?{fontWeight:"bold"}:null},t.name),r.a.createElement("td",null,t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",null,t.father),r.a.createElement("td",null,t.mother),r.a.createElement("td",null,t.age),r.a.createElement("td",null,t.century),r.a.createElement("td",null,t.children.join(", ")))},b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.people,a=e.sortBy,n=e.markRow;return r.a.createElement("table",{className:"people-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["id","name","sex","born","died","father","mother","age","century","children"].map(function(e){return r.a.createElement("th",{key:e,onClick:function(){return a(e)}},e)}))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(f,{key:e.id,person:e,markRow:n})})))}}]),t}(r.a.Component),w=(a(17),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentName:"",currentBirthYear:0,currentDeathYear:0,touched:{name:!1,died:!1}},a.addCurrentInput=function(e,t){a.setState(Object(c.a)({},e,t.target.value))},a.handleBlur=function(e){a.setState(function(t){return{touched:Object(i.a)({},t.touched,Object(c.a)({},e,!0))}})},a.validateInput=function(e){switch(e){case"currentName":return/\d|\W/.test(a.state.currentName.replace(" ",""));case"currentDeathYear":return a.state.currentDeathYear-a.state.currentBirthYear<0||a.state.currentDeathYear-a.state.currentBirthYear>=150;default:return!0}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.submitNewPerson,n=t.people,o=t.closeNewPersonPopup,l=t.addParent,c=function(t,a){return Object(u.a)(t).filter(function(t){return t.born<e.state.currentBirthYear&&t.sex===a})},i=c(n,"f"),s=c(n,"m");return r.a.createElement("div",{className:"popup-add-new-person"},r.a.createElement("h3",{className:"popup-title"},"Adding a new person"),r.a.createElement("button",{type:"button",className:"popup-close",onClick:o},"x"),r.a.createElement("form",{onSubmit:a,className:"popup-form"},r.a.createElement("div",{className:this.validateInput("currentName")?"error-input--message":"hidden-block"},"name should contain only letters and spaces"),r.a.createElement("input",{type:"text",name:"name",placeholder:"type a name",required:!0,className:this.validateInput("currentName")?"error-input":"",onChange:function(t){return e.addCurrentInput("currentName",t)},onBlur:function(){return e.handleBlur("name")}}),r.a.createElement("div",{className:"gender-radio"},r.a.createElement("input",{type:"radio",name:"sex",value:"m",required:!0}),r.a.createElement("label",null,"male"),r.a.createElement("input",{type:"radio",name:"sex",value:"f",required:!0}),r.a.createElement("label",null,"female")),r.a.createElement("input",{type:"number",name:"born",placeholder:"type the year of birth",required:!0,onChange:function(t){return e.addCurrentInput("currentBirthYear",t)}}),r.a.createElement("div",{className:this.validateInput("currentDeathYear")?"error-input--message":"hidden-block"},"age must me between 0 and 150 years"),r.a.createElement("input",{type:"number",name:"died",placeholder:"type the year of death",required:!0,className:this.validateInput("currentDeathYear")?"error-input--died error-input":"",onChange:function(t){return e.addCurrentInput("currentDeathYear",t)},onBlur:function(){return e.handleBlur("died")}}),r.a.createElement("select",{required:!0,onChange:function(e){return l("father",e)}},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose a father"),s.map(function(e){return r.a.createElement("option",{value:e.name,name:"father"},e.name)})),r.a.createElement("select",{required:!0,onChange:function(e){return l("mother",e)}},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose a mother"),i.map(function(e){return r.a.createElement("option",{value:e.name,name:"mother"},e.name)})),r.a.createElement("button",{type:"submit"},"Add new person")))}}]),t}(r.a.Component)),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={peopleList:[],peopleListToShow:[],showPopup:!1,parents:{mother:"",father:""}},a.componentDidMount=function(){fetch("../../api/people.json").then(function(e){return e.json()}).then(function(e){var t=e.map(function(t,a){return Object(i.a)({},t,{id:a+1,age:t.died-t.born,century:Math.ceil(t.died/100),children:(n=e,r=t,n.filter(function(e){return e.father===r.name||e.mother===r.name}).map(function(e){return e.name})),marked:!1});var n,r});a.setState({peopleList:t,peopleListToShow:t})})},a.filter=function(e){var t=a.state.peopleList;t=t.filter(function(t){return-1!==(t.name+t.father+t.mother).toLowerCase().search(e.target.value.toLowerCase())}),a.setState({peopleListToShow:t})},a.sortBy=function(e){var t;switch(e){case"name":t=Object(u.a)(a.state.peopleList).sort(function(t,a){return t[e].localeCompare(a[e])});break;default:t=Object(u.a)(a.state.peopleList).sort(function(t,a){return t[e]-a[e]})}a.setState({peopleListToShow:t})},a.markRow=function(e){a.setState(function(t){return{peopleListToShow:Object(u.a)(t.peopleListToShow).map(function(e){return Object(i.a)({},e,{marked:!1})}).map(function(t){return t.id===e?Object(i.a)({},t,{marked:!0}):t})}})},a.submitNewPerson=function(e){e.preventDefault();var t=new FormData(e.target),n={},r=!0,o=!1,l=void 0;try{for(var c,s=t.keys()[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var p=c.value;n[p]=t.get(String(p))}}catch(m){o=!0,l=m}finally{try{r||null==s.return||s.return()}finally{if(o)throw l}}n=Object(i.a)({},n,{id:a.state.peopleListToShow.length+1,children:[],mother:a.state.parents.mother,father:a.state.parents.father}),a.setState(function(e){return{peopleList:[].concat(Object(u.a)(e.peopleList),[n]),peopleListToShow:[].concat(Object(u.a)(e.peopleListToShow),[n]),showPopup:!1}})},a.showNewPersonPopup=function(){a.setState({showPopup:!0})},a.closeNewPersonPopup=function(){a.setState({showPopup:!1})},a.addParent=function(e,t){a.setState({parents:Object(i.a)({},a.state.parents,Object(c.a)({},e,t.target.value))})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.peopleListToShow;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"app-title"},"People table"),r.a.createElement("div",{className:"app-title"},"(".concat(e.length," people)")),r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"filter by name, mother and father",className:"app-filtering",onChange:this.filter})),!this.state.showPopup&&r.a.createElement("button",{type:"button",className:"adding-new-person",onClick:this.showNewPersonPopup},"Add a new person"),this.state.showPopup&&r.a.createElement("div",{className:"app-popup"},r.a.createElement(w,{people:this.state.peopleListToShow,submitNewPerson:this.submitNewPerson,addName:this.addName,handleOptionChange:this.handleOptionChange,addBirthYear:this.addBirthYear,addDeathYear:this.addDeathYear,closeNewPersonPopup:this.closeNewPersonPopup,addParent:this.addParent})),r.a.createElement(b,{people:e,sortBy:this.sortBy,markRow:this.markRow}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(E,{test:123}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.b13630de.chunk.js.map